{"version":3,"sources":["domain/user/component/LoginForm.tsx","domain/user/container/Login.tsx","page/LoginPage.tsx","component/Alert.tsx","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","component/PrimaryButton.tsx","../node_modules/@material-ui/icons/utils/createSvgIcon.js","../node_modules/@material-ui/core/esm/SvgIcon/index.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@material-ui/icons/MailOutline.js","../node_modules/@material-ui/icons/LockOutlined.js"],"names":["validationSchema","Yup","email","matches","emailRegExp","EMAIL_INCORRECT","required","EMAIL_REQUIRED","password","PASSWORD_REQUIRED","useStyles","makeStyles","container","display","flexDirection","justifyContent","alignItems","height","form","minwidth","padding","theme","spacing","margin","medium","border","color","grayLight4","borderRadius","smaller","marginBottom","fields","big","title","small","textAlign","error","fontSize","submit","width","white","backgroundColor","primary","LoginForm","initialValues","onSubmit","loading","errorMessage","closeError","classes","values","errors","touched","handleChange","handleSubmit","className","Typography","variant","name","field","TextField","id","label","value","placeholder","type","onChange","size","fullWidth","InputProps","endAdornment","component","PrimaryButton","Alert","message","open","onClose","Login","client","useApolloClient","replace","useHistory","useSignInMutation","loginFn","useState","setAlertError","useCallback","undefined","variables","update","cache","data","writeQuery","query","CurrentUserDocument","currentUser","signIn","then","resetStore","set","token","catch","graphQLErrors","map","join","LoginPage","ContainerPage","severity","rest","autoHideDuration","elevation","module","exports","obj","__esModule","children","button","customTheme","_interopRequireDefault","require","Object","defineProperty","default","path","displayName","Component","_react","memo","forwardRef","props","ref","createElement","_SvgIcon","_extends2","process","muiName","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_default","d"],"mappings":"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","file":"static/js/9.73de349a.chunk.js","sourcesContent":["import { TextField, Typography } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport { makeStyles } from '@material-ui/styles';\nimport { ErrorMessage, Field, Form, Formik, FormikHelpers } from 'formik';\nimport React from 'react';\nimport * as Yup from 'yup';\nimport Alert from '../../../component/Alert';\nimport { PrimaryButton } from '../../../component/PrimaryButton';\nimport theme from \"../../../theme\";\nimport { emailRegExp, EMAIL_INCORRECT, EMAIL_REQUIRED, PASSWORD_REQUIRED } from '../../../utils/constants';\n\nconst validationSchema = Yup.object({\n  email: Yup.string().matches(emailRegExp, EMAIL_INCORRECT).required(EMAIL_REQUIRED),\n  password: Yup.string().required(PASSWORD_REQUIRED)\n})\n\ninterface FormLoginValues {\n  email: string;\n  password: string;\n}\n\ninterface Props {\n  loading: boolean;\n  errorMessage?: string;\n  closeError: ()=> void;\n  initialValues?: FormLoginValues;\n  onSubmit: ((values: {\n    email: string;\n    password: string;\n}, formikHelpers: FormikHelpers<{\n    email: string;\n    password: string;\n}>) => void | Promise<any>)\n}\n\nconst LoginForm = ({ initialValues = {\n  email: '',\n  password: ''\n}, onSubmit, loading, errorMessage, closeError }: Props) => {\n  const classes = useStyles();\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={validationSchema}\n      onSubmit={onSubmit}\n    >\n      {({ values, errors, touched, handleChange, handleSubmit }) => (\n        <div className={classes.container}>\n          <Form className={classes.form} onSubmit={handleSubmit}>\n            <Typography className={classes.title} variant={'h1'} color={'textPrimary'}> Login </Typography>\n            <Field name=\"email\">\n              {({ field }: any) => (\n                <TextField\n                  name=\"email\"\n                  id=\"email\"\n                  label=\"Email\"\n                  variant=\"outlined\"\n                  value={values.email}\n                  placeholder=\"Email\"\n                  type=\"email\"\n                  onChange={handleChange}\n                  size={'small'}\n                  fullWidth\n                  InputProps={{ endAdornment: (<MailOutlineIcon />) }}\n                  {...field}\n                />\n              )}\n            </Field>\n            {errors.email && touched.email ? (<ErrorMessage className={classes.error} name=\"email\" component=\"div\" />) : null}\n            <Field name=\"password\">\n              {({ field }: any) => (\n                <TextField\n                  className={classes.fields}\n                  id=\"password\"\n                  label=\"Password\"\n                  value={values.password}\n                  variant=\"outlined\"\n                  placeholder=\"Password\"\n                  type=\"password\"\n                  size={'small'}\n                  fullWidth\n                  InputProps={{ endAdornment: (<LockOutlinedIcon />) }}\n                  onChange={handleChange}\n                  {...field}\n                />\n              )}\n            </Field>\n            {errors.password && touched.password ? (<ErrorMessage className={classes.error} name=\"password\" component=\"div\" />) : null}\n            <PrimaryButton loading={loading} type={'submit'} >Submit</PrimaryButton>\n          </Form>\n          <Alert\n            message={errorMessage}\n            open={!!errorMessage}\n            onClose={closeError}\n      />\n        </div>\n      )}\n    </Formik>\n\n  );\n};\n\nconst useStyles = makeStyles({\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: \"100vh\"\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    minwidth: '25%',\n    padding: `${theme.spacing.margin.medium}`,\n    border: `1px solid ${theme.color.grayLight4}`,\n    borderRadius: `${theme.spacing.margin.smaller}`,\n    marginBottom: `${theme.spacing.margin.smaller}`,\n  },\n  fields: {\n    margin: `${theme.spacing.margin.big} ${theme.spacing.margin.medium} ${theme.spacing.margin.smaller}  `,\n  },\n  title: {\n    marginBottom: `${theme.spacing.margin.small}`,\n    textAlign: \"center\"\n  },\n  error: {\n    color: \"red\",\n    fontSize: \"15px\"\n\n  },\n  submit: {\n    width: '100%',\n    color: theme.color.white,\n    backgroundColor: theme.color.primary,\n    '&:hover': {\n      backgroundColor: theme.color.primary,\n    }\n  }\n});\n\nexport default LoginForm;","import { ApolloError } from 'apollo-boost';\nimport { set } from 'local-storage';\nimport React, { useCallback, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport LoginForm from '../component/LoginForm';\nimport { CurrentUserDocument,  useSignInMutation } from '../../../generate/types';\nimport { useApolloClient } from '@apollo/react-hooks';\n\nconst Login = () => {\n  const client = useApolloClient();\n  const { replace } = useHistory();\n  const [loginFn, { loading }] = useSignInMutation();\n  const [errorMessage, setAlertError] = useState<string | undefined>();\n\n  const closeError = useCallback(() => {\n    setAlertError(undefined);\n  }, [setAlertError]);\n\n  const onSubmit = useCallback(\n    ({ email, password }) => {\n      loginFn({\n        variables: {\n          email,\n          password,\n        },\n        update(cache, { data }) {\n          cache.writeQuery({\n            query: CurrentUserDocument,\n            data: { currentUser: data?.signIn },\n          });\n        },\n      })\n        .then((data) => {\n          client.resetStore();\n          set('userToken', data?.data?.signIn?.token);\n        })\n        .then(() => {\n           replace('/');\n        })\n        .catch((error: ApolloError) => {\n          setAlertError(\n            error?.graphQLErrors.map(({ message }) => message).join(', '),\n          );\n        });\n    },\n    [loginFn, replace],\n  );\n\n  return (\n    <LoginForm\n      onSubmit={onSubmit}\n      loading={loading}\n      errorMessage={errorMessage}\n      closeError={closeError}\n    />\n  );\n};\n\nexport default Login;\n","import React from 'react';\nimport Login from '../domain/user/container/Login';\nimport ContainerPage from '../containers/ContainerPage';\n\n\nconst LoginPage = () => (\n  <ContainerPage>\n    <Login />\n  </ContainerPage>\n);\n\nexport default LoginPage;","import { Snackbar } from \"@material-ui/core\";\nimport MuiAlert, { AlertProps } from \"@material-ui/lab/Alert\";\nimport React from \"react\";\n\ntype Props = {\n  message?: string;\n  open?: boolean;\n  severity?:string;\n} & AlertProps;\n\nconst Alert = ({ severity='error', message, open, ...rest }: Props) => {\n  return (\n    <>\n      <Snackbar open={open} autoHideDuration={6000}>\n        <MuiAlert elevation={6} variant=\"filled\" severity={severity} {...rest}>\n          {message}\n        </MuiAlert>\n      </Snackbar>\n    </>\n  );\n};\n\nexport default Alert;\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","import Button, { ButtonProps } from '@material-ui/core/Button';\nimport React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport customTheme from '../theme';\nimport { CircularProgress } from '@material-ui/core';\n\ntype Props = {\n  loading?: boolean;\n} & ButtonProps;\n\nexport const PrimaryButton = ({loading, children, ...rest}: Props) => {\n    const classes = useStyles();\n\n    return <Button className={classes.button} size=\"small\" fullWidth variant=\"contained\" color='primary'   {...rest} >\n      { loading && <CircularProgress className={classes.loading} size={20} /> }\n      { !loading && children }\n    </Button>\n}\n\nconst useStyles = makeStyles({\n    button: {\n        margin: `${customTheme.spacing.margin.small} auto`,\n        padding: customTheme.spacing.margin.smaller\n    },\n    loading: {\n      color: customTheme.color.white,\n    }\n});\n\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react.default.memo(_react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(_SvgIcon.default, (0, _extends2.default)({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon.default.muiName;\n  return Component;\n}","export { default } from './SvgIcon';","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z\"\n}), 'MailOutline');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\"\n}), 'LockOutlined');\n\nexports.default = _default;"],"sourceRoot":""}