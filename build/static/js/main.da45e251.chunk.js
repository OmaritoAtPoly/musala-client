(this["webpackJsonpmusala-project"]=this["webpackJsonpmusala-project"]||[]).push([[4],{108:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(35),o=t.n(i),c=t(16),u=t(145),l=t(31),d=t(61),s=t.n(d),m=t(81),f=t(56),g=t.n(f),p=t(39),h=t(44),b=new f.IntrospectionFragmentMatcher({introspectionQueryResultData:h.c}),v=new g.a({request:function(){var n=Object(m.a)(s.a.mark((function n(e){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.get)("userToken");case 2:t=n.sent,e.setContext({headers:{authorization:t?"Bearer ".concat(t):""}});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),cache:new f.InMemoryCache({fragmentMatcher:b}),uri:"https://musala-proyect.herokuapp.com/"}),y=t(9),k=t(51),j=t(122),O=t(144),A=t(115),S=t(65),E=t(68),w=Object(A.a)({center:{position:"absolute",top:"50%",left:"50%"}}),C=function(){var n=w();return a.a.createElement(r.Suspense,{fallback:a.a.createElement(j.a,{className:n.center,size:20})},a.a.createElement(y.d,null,k.a.map((function(n,e){return a.a.createElement(y.b,Object.assign({},n,{key:e}))})),a.a.createElement(y.b,{render:function(){return a.a.createElement(E.a,null,a.a.createElement(O.a,{variant:"h5",gutterBottom:!0,className:n.center},S.s))}})))},I=t(11),$=function(){return a.a.createElement(c.a,{client:v},a.a.createElement(u.a,{theme:I.b},a.a.createElement(l.a,null,a.a.createElement(C,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))},11:function(n,e,t){"use strict";t.d(e,"b",(function(){return l}));var r=t(27),a=t(64),i=t(29),o={font:{size:{small:".8rem",medium:"1rem"}},border:{small:"1px"},dimension:{radius:{small:"0.3rem"},font:{bold:800},height:{small:"1rem",medium:"13rem",day_calendar_height:"2.5rem"},width:{small:"1rem",day_calendar_width:"2.5rem",wLayout:"1400px",w50:"50%",w90:"90%",w100:"100%"}},spacing:{margin:{none:0,mini:".1rem",smaller1:".2rem",smaller:".5rem",small:"1rem",medium:"1.5rem",big:"2rem",bigger:"4rem",m5:"5%",m10:"10%",m50:"50%"},padding:{none:0,smaller:".5rem",small:"1rem",medium:"1.5rem",big:"2rem"}},color:{primary:"#da1921",foreground:"#707070",background:"#ffffff",primaryAccent:Object(i.b)(.1,"#da1921"),primaryShade1:Object(i.b)(.2,"#da1921"),primaryShade2:Object(i.b)(.27,"#da1921"),primaryShade3:Object(i.b)(.37,"#da1921"),primaryShade4:Object(i.b)(.43,"#da1921"),primaryDark:Object(i.a)(.1,"#da1921"),secondary:Object(i.a)(.14,"#da1921"),white:"#ffffff",black:"#000000",grayLight1:"#f2f2f2",grayLight2:"#dfdfdf",grayLight3:"#707070",grayLight4:"#ccc",grayDark1:"#f4f2f2",grayDark2:"#f0eeee",grayDark3:"#ccc",grayDark4:"#bbb"}};e.a=o;var c={primary:{main:"#da1921",contrastText:"#FAFAFA"},secondary:{main:"#FFCCBC",contrastText:"#757575"},text:{primary:"#707070"},background:{default:"#FFFFFF",paper:"#FFFFFF"}},u={fontFamily:"Lato",fontWeight:500},l=Object(a.a)({palette:c,shape:{borderRadius:0},overrides:{MuiButton:{root:{borderRadius:5},outlinedPrimary:{"&:hover":{backgroundColor:"#da1921",color:c.background.paper}}}},typography:{fontFamily:["Lato","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Oxygen","Ubuntu",'"Fira Sans"','"Droid Sans"','"Helvetica Neue"',"sans-serif","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"].join(","),h1:Object(r.a)({},u,{fontSize:"2.5rem",lineHeight:1.2}),h2:Object(r.a)({},u,{fontSize:"2.5rem",lineHeight:1.2}),h3:Object(r.a)({},u,{fontSize:"1.5rem",lineHeight:1}),h4:Object(r.a)({},u,{fontSize:"1.25rem",lineHeight:1}),h5:Object(r.a)({},u,{fontSize:"1rem",lineHeight:1}),button:{fontSize:"1rem",textTransform:"unset"},body1:{fontFamily:"Lato",fontWeight:300},body2:{fontFamily:"Lato",fontSize:"1rem",fontWeight:400}}})},44:function(n,e,t){"use strict";t.d(e,"b",(function(){return a})),t.d(e,"l",(function(){return y})),t.d(e,"d",(function(){return j})),t.d(e,"h",(function(){return A})),t.d(e,"i",(function(){return E})),t.d(e,"e",(function(){return C})),t.d(e,"k",(function(){return $})),t.d(e,"j",(function(){return x})),t.d(e,"a",(function(){return L})),t.d(e,"g",(function(){return B})),t.d(e,"f",(function(){return z}));var r,a,i=t(25),o=t(23),c=t.n(o),u=t(14);function l(){var n=Object(i.a)(["\n    query currentUserBookings {\n  currentUser {\n    id\n    email\n    fullName\n    createdAt\n    role\n    phone\n    token\n    bookings {\n      id\n      checkin\n      checkout\n      totalPaid\n      createdAt\n      client {\n        email\n        fullName\n        role\n      }\n      ad {\n        title\n        description\n        image\n        createdAt\n        host {\n          email\n          fullName\n        }\n      }\n    }\n  }\n}\n    "]);return l=function(){return n},n}function d(){var n=Object(i.a)(["\n    query currentUser {\n  currentUser {\n    id\n    email\n    fullName\n    password\n    createdAt\n    role\n    phone\n    token\n  }\n}\n    "]);return d=function(){return n},n}function s(){var n=Object(i.a)(["\n    mutation signIn($email: String!, $password: String!) {\n  signIn(data: {email: $email, password: $password}) {\n    id\n    email\n    fullName\n    createdAt\n    role\n    token\n  }\n}\n    "]);return s=function(){return n},n}function m(){var n=Object(i.a)(["\n    mutation signUp($email: String!, $fullName: String!, $password: String!, $phone: String!) {\n  signUp(data: {email: $email, fullName: $fullName, password: $password, phone: $phone}) {\n    id\n    email\n    password\n    role\n    createdAt\n    token\n  }\n}\n    "]);return m=function(){return n},n}function f(){var n=Object(i.a)(["\n    query currentAvailability {\n  currentAvailability: currentUser {\n    id\n    ad {\n      id\n      title\n      ranking\n      blockedDays {\n        id\n        checkin\n        checkout\n        byBooking\n      }\n    }\n  }\n}\n    "]);return f=function(){return n},n}function g(){var n=Object(i.a)(["\n    query selectAdById($id: ID!) {\n  ad(where: {id: $id}) {\n    id\n    title\n    description\n    image\n    price\n    ranking\n    blockedDays {\n      checkin\n      checkout\n      byBooking\n    }\n  }\n}\n    "]);return g=function(){return n},n}function p(){var n=Object(i.a)(["\n    query listAds($orderBy: AdOrderByInput, $first: Int) {\n  ads(orderBy: $orderBy, first: $first) {\n    id\n    title\n    description\n    image\n    price\n    ranking\n    host {\n      fullName\n    }\n    createdAt\n  }\n}\n    "]);return p=function(){return n},n}function h(){var n=Object(i.a)(["\n    mutation CreateBooking($checkin: DateTime!, $checkout: DateTime!, $clientId: String!, $pax: Int!, $adId: String!) {\n  createBooking(data: {checkin: $checkin, checkout: $checkout, clientId: $clientId, pax: $pax, adId: $adId}) {\n    id\n    checkin\n    checkout\n    totalPaid\n    createdAt\n  }\n}\n    "]);return h=function(){return n},n}function b(){var n=Object(i.a)(["\n    mutation updateAvailability($data: UpdateAvailableInput!) {\n  updateAvailability(data: $data)\n}\n    "]);return b=function(){return n},n}!function(n){n.IdAsc="id_ASC",n.IdDesc="id_DESC",n.TitleAsc="title_ASC",n.TitleDesc="title_DESC",n.DescriptionAsc="description_ASC",n.DescriptionDesc="description_DESC",n.ImageAsc="image_ASC",n.ImageDesc="image_DESC",n.PriceAsc="price_ASC",n.PriceDesc="price_DESC",n.RankingAsc="ranking_ASC",n.RankingDesc="ranking_DESC",n.CreatedAtAsc="createdAt_ASC",n.CreatedAtDesc="createdAt_DESC"}(r||(r={})),function(n){n.Blocked="BLOCKED",n.Available="AVAILABLE"}(a||(a={}));var v=c()(b());function y(n){return u.c(v,n)}var k=c()(h());function j(n){return u.c(k,n)}var O=c()(p());function A(n){return u.d(O,n)}var S=c()(g());function E(n){return u.d(S,n)}var w=c()(f());function C(n){return u.d(w,n)}var I=c()(m());function $(n){return u.c(I,n)}var D=c()(s());function x(n){return u.c(D,n)}var L=c()(d());function B(n){return u.d(L,n)}var F=c()(l());function z(n){return u.d(F,n)}e.c={__schema:{types:[]}}},51:function(n,e,t){"use strict";var r=t(0),a=[{exact:!0,path:"/login",component:Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(9)]).then(t.bind(null,129))})),needLoggedIn:!1},{exact:!0,path:"/sign-up",component:Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(12)]).then(t.bind(null,130))})),needLoggedIn:!1},{exact:!0,path:"/",component:Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(8),t.e(14)]).then(t.bind(null,128))})),needLoggedIn:!1},{exact:!0,path:"/profile",component:Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(15)]).then(t.bind(null,131))})),needLoggedIn:!0},{exact:!0,path:"/details-ad/:id",component:Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(3),t.e(7)]).then(t.bind(null,127))})),needLoggedIn:!1},{exact:!0,path:"/bookings",component:Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(3),t.e(13)]).then(t.bind(null,126))})),needLoggedIn:!0},{exact:!0,path:"/available",component:Object(r.lazy)((function(){return Promise.all([t.e(0),t.e(1),t.e(3),t.e(10),t.e(11)]).then(t.bind(null,132))})),needLoggedIn:!0}];e.a=a},65:function(n,e,t){"use strict";t.d(e,"G",(function(){return r})),t.d(e,"r",(function(){return a})),t.d(e,"k",(function(){return i})),t.d(e,"j",(function(){return o})),t.d(e,"w",(function(){return c})),t.d(e,"n",(function(){return u})),t.d(e,"t",(function(){return l})),t.d(e,"g",(function(){return d})),t.d(e,"o",(function(){return s})),t.d(e,"F",(function(){return m})),t.d(e,"s",(function(){return f})),t.d(e,"v",(function(){return g})),t.d(e,"y",(function(){return p})),t.d(e,"e",(function(){return h})),t.d(e,"A",(function(){return b})),t.d(e,"h",(function(){return v})),t.d(e,"z",(function(){return y})),t.d(e,"x",(function(){return k})),t.d(e,"f",(function(){return j})),t.d(e,"q",(function(){return O})),t.d(e,"p",(function(){return A})),t.d(e,"B",(function(){return S})),t.d(e,"C",(function(){return E})),t.d(e,"d",(function(){return w})),t.d(e,"c",(function(){return C})),t.d(e,"D",(function(){return I})),t.d(e,"b",(function(){return $})),t.d(e,"a",(function(){return D})),t.d(e,"u",(function(){return x})),t.d(e,"m",(function(){return L})),t.d(e,"l",(function(){return B})),t.d(e,"i",(function(){return F})),t.d(e,"E",(function(){return z}));var r=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,a="Name is required",i="Email is required",o="Incorrect email",c="Phone is required",u="Phone is invalid",l="Password is required",d="Confirm password is required",s="Passwords must match",m=/^[a-zA-Z0-9_\-\.]+@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/,f="not found",g="per night",p="Range must be selected!!",h="Book Now!",b="Submit",v="Created at",y="Reserved at",k="Already have an account ?",j="click here",O="The most chosen by our clients",A="The most popular",S="the cheapest",E="stay cheap",w="Blocked",C="Available",I="Undefined",$="Availability",D="Must select an option",x="Pax must be greater than zero",L="info",B="error",F="YYYY-MM-DD",z=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},68:function(n,e,t){"use strict";var r=t(0),a=t.n(r),i=t(45),o=t(139),c=t(11),u=Object(o.a)("div")((function(n){var e=n.theme;return Object(i.a)({maxWidth:"".concat(c.a.dimension.width.wLayout),marginRight:c.a.spacing.margin.bigger,marginLeft:c.a.spacing.margin.bigger},e.breakpoints.down("xs"),{marginRight:c.a.spacing.margin.none,marginLeft:c.a.spacing.margin.none})})),l=t(9),d=t(51),s=t(39),m=function(){return Object(s.get)("userToken")},f=t(14),g=t(27),p=t(142),h=t(143),b=t(115),v=t(117),y=Object(o.a)("div")({display:"flex",alignItems:"center",justifyContent:"center",paddingRight:c.a.spacing.padding.none}),k=Object(b.a)((function(n){return{icon:{margin:n.spacing(1),color:n.palette.primary.main}}})),j=function(){var n=k();return a.a.createElement(y,null,a.a.createElement(v.a,{className:n.icon},a.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})))},O=t(79),A=t(66),S=t(113),E=t(31),w=Object(b.a)({navLink:{paddingLeft:c.a.spacing.padding.small,paddingRight:c.a.spacing.padding.small}}),C=function(n){var e=w();return a.a.createElement(S.a,Object.assign({classes:{root:e.navLink},component:function(e){e.innerRef;var t=Object(A.a)(e,["innerRef"]);return a.a.createElement(E.b,Object.assign({},n,t))}},n))},I=Object(b.a)((function(n){var e={paddingLeft:c.a.spacing.padding.none,paddingRight:c.a.spacing.padding.none,margin:c.a.spacing.margin.none};return{appBar:Object(g.a)({backgroundColor:n.palette.background.default,boxShadow:"unset"},e),toolbar:Object(g.a)({},e,{display:"flex",justifyContent:"space-between"}),navLink:{paddingRight:c.a.spacing.padding.none}}})),$=function(n){var e=n.links,t=n.userName,r=I();return a.a.createElement(p.a,{className:r.appBar,position:"sticky"},a.a.createElement(h.a,{className:r.toolbar},a.a.createElement("div",null,a.a.createElement(C,{className:r.navLink,exact:!0,to:"/"},a.a.createElement(j,null)),a.a.createElement(C,{exact:!0,to:"/profile"},t)),a.a.createElement("div",null,e.map((function(n,e){var t=n.path,r=n.title,i=n.onClick;return i?a.a.createElement(O.a,{key:e,onClick:i},r):a.a.createElement(C,{key:e,to:t},r)})))))},D=t(44),x=function(){var n,e=Object(f.a)(),t=Object(D.g)({fetchPolicy:"cache-first",errorPolicy:"all"}).data,i=Object(r.useMemo)((function(){var n;return"HOST"===(null===t||void 0===t||null===(n=t.currentUser)||void 0===n?void 0:n.role)}),[t]),o=Object(l.g)().push,c=m(),u=[{path:"/",title:"Home"}];return c&&u.push({path:"/profile",title:"Profile"}),c&&!i&&u.push({path:"/bookings",title:"Booking"}),c&&i&&u.push({path:"/available",title:"Available"}),!c&&u.push({path:"/sign-up",title:"Sign Up"}),u.push({path:c?"/":"/login",title:c?"Sign out":"Sign in",onClick:function(){Object(s.remove)("userToken"),e.resetStore(),o(c?"/":"/login")}}),a.a.createElement($,{userName:null===t||void 0===t||null===(n=t.currentUser)||void 0===n?void 0:n.fullName,links:u})};e.a=function(n){var e=n.children,t=Object(l.g)().location.pathname;return Object(r.useMemo)((function(){var n=d.a.find((function(n){return n.path===t}));return(null===n||void 0===n?void 0:n.needLoggedIn)&&!m()}),[t])?a.a.createElement(l.a,{to:"/login"}):a.a.createElement(u,null,a.a.createElement(x,null),e)}},79:function(n,e,t){"use strict";var r=t(0),a=t.n(r),i=t(113);e.a=function(n){return a.a.createElement(i.a,n)}},94:function(n,e,t){n.exports=t(108)}},[[94,5,6]]]);
//# sourceMappingURL=main.da45e251.chunk.js.map