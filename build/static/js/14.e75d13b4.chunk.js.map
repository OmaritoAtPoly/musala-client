{"version":3,"sources":["component/Card.tsx","component/Section.tsx","domain/ad/component/Ads.tsx","domain/ad/container/Ads.tsx","page/Home.tsx","component/Alert.tsx"],"names":["Card","loading","title","description","image","subTitle","onClick","classes","useStyles","className","card","content","src","aspectRatio","disableSpinner","texts","Typography","variant","color","slice","makeStyles","flex","width","customTheme","dimension","w100","overflow","transition","transform","marginBottom","spacing","margin","medium","marginTop","none","padding","smaller","createStyles","root","flexGrow","container","foreground","fontWeight","mini","Session","count","items","renderItem","useMemo","xs","sm","Grid","CircularProgress","size","map","element","i","key","item","Ads","data","errorMessage","closeError","Alert","message","open","onClose","push","useHistory","useState","setErrorMessage","useListAdsQuery","error","variables","orderBy","first","dataCheapest","loadingCheapest","errorCheapest","useEffect","graphQLErrors","join","useCallback","undefined","onClickFunction","id","ad","price","PER_NIGHT","morePopularSection","MOST_POPULAR","MOST_POPULAR_SUBTITLE","ads","cheapestSection","THE_CHEAPEST","THE_CHEAPEST_SUBTITLE","allAdsSection","HomePage","ContainerPage","severity","rest","autoHideDuration","elevation"],"mappings":"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","file":"static/js/14.e75d13b4.chunk.js","sourcesContent":["import { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport Image from 'material-ui-image';\nimport React from 'react';\nimport customTheme from '../theme';\n\ninterface Props {\n  title: string;\n  subTitle: string;\n  image: string;\n  description: string;\n  onClick: () => void;\n  loading: boolean;\n}\n\nconst Card = ({\n  loading,\n  title,\n  description,\n  image,\n  subTitle,\n  onClick,\n}: Props) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.card} onClick={onClick}>\n      <div className={`${classes.content}`}>\n        <Image src={image} aspectRatio={16 / 9} disableSpinner={loading} />\n        <div className={classes.texts}>\n          <Typography variant=\"h4\" color=\"textPrimary\">\n            {title.slice(0, 40)}\n          </Typography>\n          <Typography variant=\"h5\" color=\"textPrimary\">\n            {subTitle.slice(0, 40)}\n          </Typography>\n          <Typography variant=\"body1\" color=\"textPrimary\">\n            {description.slice(0, 80)}\n          </Typography>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n\nconst useStyles = makeStyles({\n  card: {\n    flex: 1,\n    width: customTheme.dimension.width.w100,\n    overflow: 'hidden',\n    transition: 'all .2s',\n    '&:hover': {\n      transform: 'translateY(-.3rem)',\n    },\n  },\n  content: {\n    marginBottom: customTheme.spacing.margin.medium,\n    marginTop: customTheme.spacing.margin.none,\n    padding: customTheme.spacing.padding.none,\n  },\n  texts: {\n    marginTop: customTheme.spacing.margin.smaller,\n  },\n});\n","import Grid, { GridSize } from '@material-ui/core/Grid';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport React, { useMemo } from 'react';\nimport customTheme from '../theme';\nimport { Typography, CircularProgress } from '@material-ui/core';\n\ninterface Props {\n  count: GridSize;\n  items: any[];\n  renderItem: (data: any) => JSX.Element;\n  title: string;\n  description: string;\n  loading?: boolean;\n}\n\nconst Session = ({\n  loading = false,\n  title,\n  description,\n  count,\n  items,\n  renderItem,\n}: Props) => {\n  const classes = useStyles();\n  const { xs, sm } = useMemo(() => {\n    let xs, sm;\n    switch (count) {\n      case 1:\n        xs = sm = 12;\n        break;\n      case 2:\n        xs = 12;\n        sm = 6;\n        break;\n      case 3:\n        xs = 12;\n        sm = 4;\n        break;\n      default:\n        xs = 12;\n        sm = 3;\n        break;\n    }\n    return { xs, sm } as { xs: GridSize; sm: GridSize };\n  }, [count]);\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h3\" className={classes.title}>\n        {title}\n      </Typography>\n      <Typography className={classes.subTitle}>{description}</Typography>\n      <Grid container xs={12} spacing={3} className={classes.container}>\n        {loading && <CircularProgress size={20} />}\n        {items.map((element, i) => (\n          <Grid key={i} item xs={xs} sm={sm}>\n            {renderItem(element)}\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  );\n};\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    container: {\n      margin: customTheme.spacing.margin.none,\n    },\n    title: {\n      color: customTheme.color.foreground,\n      fontWeight: 'bold',\n      marginBottom: customTheme.spacing.margin.mini,\n    },\n    subTitle: {\n      color: customTheme.color.foreground,\n      marginBottom: '1rem',\n    },\n  }),\n);\n\nexport default Session;\n","import { GridSize } from '@material-ui/core';\nimport React from 'react';\nimport Alert from '../../../component/Alert';\nimport Session from '../../../component/Section';\n\ninterface Props {\n  data: {\n    count: GridSize;\n    items: any[];\n    renderItem: (data: any) => JSX.Element;\n    title: string;\n    description: string;\n    loading?: boolean;\n  }[];\n  errorMessage?: string;\n  closeError: () => void;\n}\n\nconst Ads = ({ data, errorMessage, closeError }: Props) => {\n  return (\n    <>\n      {data.map((data, i) => (\n        <Session {...data} key={i}/>\n      ))}\n      <Alert\n        message={errorMessage}\n        open={!!errorMessage}\n        onClose={closeError}\n      />\n    </>\n  );\n};\n\nexport default Ads;\n","import { GridSize } from '@material-ui/core';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Card from '../../../component/Card';\nimport {\n  Ad,\n  AdOrderByInput,\n  useListAdsQuery,\n  User,\n} from '../../../generate/types';\nimport {\n  MOST_POPULAR,\n  MOST_POPULAR_SUBTITLE,\n  PER_NIGHT,\n  THE_CHEAPEST,\n  THE_CHEAPEST_SUBTITLE,\n} from '../../../utils/constants';\nimport AdsView from '../component/Ads';\n\ntype AdListElements = { __typename?: 'Ad' } & Pick<\n  Ad,\n  'id' | 'title' | 'description' | 'image' | 'price' | 'ranking' | 'createdAt'\n> & {\n    host: { __typename?: 'User' } & Pick<User, 'fullName'>;\n  };\n\nconst Ads = () => {\n  const { push } = useHistory();\n  const [errorMessage, setErrorMessage] = useState<string | undefined>();\n  const { data, loading, error } = useListAdsQuery();\n\n  const {\n    data: dataCheapest,\n    loading: loadingCheapest,\n    error: errorCheapest,\n  } = useListAdsQuery({\n    variables: {\n      orderBy: 'price_ASC' as AdOrderByInput,\n      first: 2,\n    },\n  });\n\n  useEffect(() => {\n    setErrorMessage(\n      error?.graphQLErrors.map(({ message }) => message).join(', '),\n    );\n  }, [error]);\n\n  useEffect(() => {\n    setErrorMessage(\n      errorCheapest?.graphQLErrors.map(({ message }) => message).join(', '),\n    );\n  }, [errorCheapest]);\n\n  const closeError = useCallback(() => {\n    setErrorMessage(undefined);\n  }, [setErrorMessage]);\n\n  const onClickFunction = useCallback(\n    (id) => {\n      push(`/details-ad/${id}`);\n    },\n    [push],\n  );\n\n  const renderItem = (ad: AdListElements) => (\n    <Card\n      onClick={() => onClickFunction(ad.id)}\n      title={ad.title}\n      subTitle={ad.description}\n      description={`${ad.price} ${PER_NIGHT}`}\n      image={ad.image}\n      loading={loading}\n    />\n  );\n\n  const morePopularSection = useMemo(() => {\n    return {\n      title: MOST_POPULAR,\n      description: MOST_POPULAR_SUBTITLE,\n      count: 3 as GridSize,\n      renderItem,\n      items: data?.ads.slice(0, 3) || [],\n      loading,\n    };\n  }, [data]);\n\n  const cheapestSection = useMemo(() => {\n    return {\n      title: THE_CHEAPEST,\n      description: THE_CHEAPEST_SUBTITLE,\n      count: 2 as GridSize,\n      renderItem,\n      items: dataCheapest?.ads || [],\n      loading: loadingCheapest,\n    };\n  }, [dataCheapest]);\n\n  const allAdsSection = useMemo(() => {\n    return {\n      title: MOST_POPULAR,\n      description: MOST_POPULAR_SUBTITLE,\n      count: 4 as GridSize,\n      renderItem,\n      items: data?.ads || [],\n      loading,\n    };\n  }, [data]);\n\n  return (\n    <>\n      <AdsView\n        data={[morePopularSection, cheapestSection, allAdsSection]}\n        errorMessage={errorMessage}\n        closeError={closeError}\n      />\n    </>\n  );\n};\n\nexport default Ads;\n","import React from 'react';\nimport ContainerPage from '../containers/ContainerPage';\nimport Ad from '../domain/ad/container/Ads';\n\nconst HomePage = () => (\n  <ContainerPage>\n    <Ad />\n  </ContainerPage>\n);\n\nexport default HomePage;\n","import { Snackbar } from \"@material-ui/core\";\nimport MuiAlert, { AlertProps } from \"@material-ui/lab/Alert\";\nimport React from \"react\";\n\ntype Props = {\n  message?: string;\n  open?: boolean;\n  severity?:string;\n} & AlertProps;\n\nconst Alert = ({ severity='error', message, open, ...rest }: Props) => {\n  return (\n    <>\n      <Snackbar open={open} autoHideDuration={6000}>\n        <MuiAlert elevation={6} variant=\"filled\" severity={severity} {...rest}>\n          {message}\n        </MuiAlert>\n      </Snackbar>\n    </>\n  );\n};\n\nexport default Alert;\n"],"sourceRoot":""}